import{d as N,D as U,f as I,m as L,C as O,a as x,o as k,c as w,i as s,q as T,u as e,t as u,b as n,w as o,_,e as S,K as v,G as D,H as G,$ as j,a0 as E,p as C,n as F,g as J,a1 as R,a2 as V,a3 as A,a4 as M}from"./index-bb1bbfdc.js";const H={class:"p-4 space-y-5 min-h-[200px]"},W={class:"space-y-6"},q={class:"flex-shrink-0 w-[100px]"},K={class:"flex flex-wrap items-center gap-4"},P={class:"flex items-center space-x-4"},Q={class:"flex-shrink-0 w-[100px]"},X={class:"flex flex-wrap items-center gap-4"},Y={class:"flex items-center space-x-4"},Z={class:"flex-shrink-0 w-[100px]"},ee={class:"flex flex-wrap items-center gap-4"},te=N({__name:"General",setup(b){const i=U();I();const{isMobile:y}=L(),d=O(),p=x(()=>i.theme),m=x({get(){return i.language},set(t){i.setLanguage(t)}}),c=[{label:"Auto",key:"auto",icon:"ri:contrast-line"},{label:"Light",key:"light",icon:"ri:sun-foggy-line"},{label:"Dark",key:"dark",icon:"ri:moon-foggy-line"}],f=[{label:"简体中文",key:"zh-CN",value:"zh-CN"},{label:"繁體中文",key:"zh-TW",value:"zh-TW"},{label:"English",key:"en-US",value:"en-US"}];function $(){const t=E(),l=localStorage.getItem("chatStorage")||"{}",a=JSON.stringify(JSON.parse(l),null,2),r=new Blob([a],{type:"application/json"}),h=URL.createObjectURL(r),g=document.createElement("a");g.href=h,g.download=`chat-store_${t}.json`,document.body.appendChild(g),g.click(),document.body.removeChild(g)}function B(t){const l=t.target;if(!l||!l.files)return;const a=l.files[0];if(!a)return;const r=new FileReader;r.onload=()=>{try{const h=JSON.parse(r.result);localStorage.setItem("chatStorage",JSON.stringify(h)),d.success(C("common.success")),location.reload()}catch{d.error(C("common.invalidFileFormat"))}},r.readAsText(a)}function z(){const t=document.getElementById("fileInput");t&&t.click()}return(t,l)=>(k(),w("div",H,[s("div",W,[s("div",{class:T(["flex items-center space-x-4",e(y)&&"items-start"])},[s("span",q,u(t.$t("setting.chatHistory")),1),s("div",K,[n(e(v),{size:"small",onClick:$},{icon:o(()=>[n(e(_),{icon:"ri:download-2-fill"})]),default:o(()=>[S(" "+u(t.$t("common.export")),1)]),_:1}),s("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:B},null,32),n(e(v),{size:"small",onClick:z},{icon:o(()=>[n(e(_),{icon:"ri:upload-2-fill"})]),default:o(()=>[S(" "+u(t.$t("common.import")),1)]),_:1})])],2),s("div",P,[s("span",Q,u(t.$t("setting.theme")),1),s("div",X,[(k(),w(D,null,G(c,a=>n(e(v),{key:a.key,size:"small",type:a.key===e(p)?"primary":void 0,onClick:r=>e(i).setTheme(a.key)},{icon:o(()=>[n(e(_),{icon:a.icon},null,8,["icon"])]),_:2},1032,["type","onClick"])),64))])]),s("div",Y,[s("span",Z,u(t.$t("setting.language")),1),s("div",ee,[n(e(j),{style:{width:"140px"},value:e(m),options:f,onUpdateValue:l[0]||(l[0]=a=>e(i).setLanguage(a))},null,8,["value"])])])])]))}}),se={class:"ml-2"},ae={class:"min-h-[100px]"},oe=N({__name:"index",props:{visible:{type:Boolean}},emits:["update:visible"],setup(b,{emit:i}){const y=b,d=F("General"),p=x({get(){return y.visible},set(m){i("update:visible",m)}});return(m,c)=>(k(),J(e(M),{show:e(p),"onUpdate:show":c[1]||(c[1]=f=>A(p)?p.value=f:null),"auto-focus":!1,preset:"card",style:{width:"95%","max-width":"640px"}},{default:o(()=>[s("div",null,[n(e(V),{value:d.value,"onUpdate:value":c[0]||(c[0]=f=>d.value=f),type:"line",animated:""},{default:o(()=>[n(e(R),{name:"General",tab:"General"},{tab:o(()=>[n(e(_),{class:"text-lg",icon:"ri:file-user-line"}),s("span",se,u(m.$t("setting.general")),1)]),default:o(()=>[s("div",ae,[n(te)])]),_:1})]),_:1},8,["value"])])]),_:1},8,["show"]))}});export{oe as default};
